# 📚 科目管理 & 💰 交易記錄 使用指南

## 🎉 新增功能概覽

系統現在支持：
1. **科目管理**：添加、編輯、刪除學生科目
2. **交易記錄**：記錄特殊事件（得獎、花費獎金）

---

## 📚 科目管理功能

### 訪問科目管理

1. 進入學生頁面
2. 點擊「📚 管理科目」按鈕

### 添加科目

#### 方法 1：使用預設科目（最快）

1. 點擊「➕ 添加科目」
2. 選擇預設科目（國語、數學、英文等）
3. 系統自動填入名稱、圖標、顏色
4. 點擊「✅ 創建科目」

#### 方法 2：自定義科目

1. 點擊「➕ 添加科目」
2. 手動填寫：
   - **科目名稱**：例如「程式設計」
   - **圖標 Emoji**：💻（任何 Emoji）
   - **標籤顏色**：選擇顏色
   - **顯示順序**：0-100（數字越小越靠前）
3. 點擊「✅ 創建科目」

### 編輯科目

1. 在科目管理頁面
2. 點擊科目的「✏️ 編輯」按鈕
3. 修改資訊
4. 點擊「💾 保存更改」

### 刪除科目

⚠️ **警告**：刪除科目會同時刪除：
- 該科目的所有評量記錄
- 相關的交易記錄
- 相關的獎金規則

步驟：
1. 進入科目編輯頁面
2. 滾動到底部「⚠️ 危險操作」區域
3. 點擊「🗑️ 刪除此科目」
4. 確認刪除

---

## 💰 交易記錄功能（特殊事件）

### 訪問交易記錄

1. 進入學生頁面
2. 點擊「💰 交易記錄」按鈕

### 添加收入（獲得獎金）

#### 預設收入類型：
- 🎁 **額外獎勵**：特殊獎勵
- 🏆 **比賽得獎**：競賽獎勵
- ⭐ **優良表現**：行為獎勵
- 📈 **進步獎勵**：進步獎勵

#### 步驟：
1. 點擊「➕ 添加交易」
2. 選擇「💰 收入」類型
3. 可以點擊預設事件快速填寫
4. 填寫：
   - **描述**：例如「比賽得獎」
   - **類別**：例如「競賽獎勵」
   - **金額**：例如「50」
5. 點擊「✅ 添加收入」

### 添加支出（花費獎金）

#### 預設支出類型：
- 🎁 **兌換禮物**：禮物兌換
- ✏️ **購買文具**：文具購買
- 📚 **購買書籍**：書籍購買
- 🎮 **遊戲時間**：休閒活動
- 🍭 **零食飲料**：食品購買

#### 步驟：
1. 點擊「➕ 添加交易」
2. 選擇「🛍️ 支出」類型
3. 可以點擊預設事件快速填寫
4. 填寫金額（會自動變成負數扣除）
5. 點擊「✅ 添加支出」

### 查看統計

交易記錄頁面顯示：
- **總收入**：所有獲得的獎金總和
- **總支出**：所有花費的獎金總和
- **當前餘額**：收入 - 支出

---

## 🎯 使用場景範例

### 場景 1：學生比賽得獎

1. 進入學生頁面 → 「💰 交易記錄」
2. 點擊「➕ 添加交易」
3. 選擇「💰 收入」
4. 點擊「🏆 比賽得獎」
5. 輸入金額：`100`
6. 修改描述為：「數學競賽第一名」
7. 點擊「✅ 添加收入」

### 場景 2：兌換禮物

1. 進入學生頁面 → 「💰 交易記錄」
2. 點擊「➕ 添加交易」
3. 選擇「🛍️ 支出」
4. 點擊「🎁 兌換禮物」
5. 輸入金額：`50`
6. 修改描述為：「樂高積木」
7. 點擊「✅ 添加支出」

### 場景 3：添加特殊科目

1. 進入學生頁面 → 「📚 管理科目」
2. 點擊「➕ 添加科目」
3. 手動輸入：
   - 名稱：`程式設計`
   - 圖標：`💻`
   - 顏色：選擇藍色
4. 點擊「✅ 創建科目」

---

## 📊 功能對比

| 功能 | 評量記錄 | 交易記錄 |
|-----|---------|---------|
| **用途** | 記錄考試成績 | 記錄特殊事件 |
| **獎金來源** | 自動計算（根據分數） | 手動輸入 |
| **典型場景** | 月考、小考、作業 | 得獎、購買、獎懲 |
| **是否關聯科目** | 是 | 否 |
| **記錄內容** | 分數、百分比、日期 | 金額、描述、類別 |

---

## 🎨 預設科目列表

系統提供以下預設科目：

| 科目 | 圖標 | 預設顏色 |
|-----|------|---------|
| 國語 | 📖 | 藍色 |
| 數學 | 🔢 | 紅色 |
| 英文 | 🌍 | 淺藍色 |
| 自然 | 🔬 | 綠色 |
| 社會 | 🌏 | 橙色 |
| 音樂 | 🎵 | 紫色 |
| 美術 | 🎨 | 粉色 |
| 體育 | ⚽ | 翠綠色 |

---

## 💡 最佳實踐

### 科目管理
- ✅ 使用清晰的 Emoji 圖標
- ✅ 選擇不同的顏色便於區分
- ✅ 設置合理的順序（常用科目排前面）
- ❌ 避免使用相似的顏色

### 交易記錄
- ✅ 及時記錄特殊事件
- ✅ 使用清楚的描述
- ✅ 正確選擇類別便於統計
- ❌ 避免描述過於簡略

---

## 🔗 頁面路徑

| 功能 | 路徑 |
|-----|------|
| 科目管理列表 | `/student/[id]/subjects` |
| 添加科目 | `/student/[id]/subjects/add` |
| 編輯科目 | `/student/[id]/subjects/[subjectId]/edit` |
| 交易記錄列表 | `/student/[id]/transactions` |
| 添加交易 | `/student/[id]/transactions/add` |

---

## ❓ 常見問題

### Q1: 刪除科目後可以恢復嗎？
**答**：不能。刪除科目會永久刪除所有相關數據，請謹慎操作。

### Q2: 交易記錄可以編輯或刪除嗎？
**答**：目前版本暫不支持編輯交易記錄，如需修改請在 Supabase 中直接操作。

### Q3: 評量記錄和交易記錄有什麼區別？
**答**：
- **評量記錄**：與科目和成績相關，獎金自動計算
- **交易記錄**：獨立的收支記錄，手動輸入金額

### Q4: 可以自定義交易類型嗎？
**答**：可以，只需在「類別」欄位輸入自定義名稱即可。

---

## 🚀 下一步

- ✅ 為學生添加所有科目
- ✅ 記錄評量成績
- ✅ 記錄特殊事件（得獎、花費）
- ✅ 為不同科目設置不同獎金規則
- ⏭️ 查看統計和報表（未來功能）

有任何問題隨時詢問！💪

